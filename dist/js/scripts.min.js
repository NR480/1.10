var dogRepository = function() { "use strict"; var e = []; return $.ajax({ type: "GET", url: "https://dog.ceo/api/breeds/list/all", success: function(e) { $.each(e.message, function(e) { dogRepository.add(e), dogRepository.addListItem(e) }) }, error: function(e) { console.log(e) } }), { getAll: function() { return e }, add: function(o) { e.push({ breed: o }) }, addListItem: function(e) { var o = `<li><button class="dog-button ${e}">${e[0].toUpperCase()+e.slice(1)}</button></li>`;
                dogListElement.append(o), $(`.${e}`).on("click", function() { console.log("?"), dogRepository.showDetails(e) }) }, showDetails: async function(e) { $.ajax({ type: "GET", url: `https://dog.ceo/api/breed/${e}/images/random`, success: function(o) { $.ajax({ type: "GET", url: `https://dog.ceo/api/breed/${e}/list`, success: function(s) { showModal({ breed: e, imageURL: o.message, subBreeds: s.message }) }, error: function(e) { console.log(e) } }) }, error: function(e) { console.log(e) } }) } } }(),
    $modalContainer = $("#detailsContainer");

function showModal(e) { if ($(".no-breeds").remove(), $(".subbreed-list").empty(), $(".modal-title").text(e.breed[0].toUpperCase() + e.breed.slice(1)), $(".breed-picture").attr("src", e.imageURL), 0 === e.subBreeds.length) { var o = $('<p class="no-breeds">No sub-breeds</p>');
        $(".modal-body").append(o) } else
        for (var s = 0; s < e.subBreeds.length; s++) { var t = $(`<li>${e.subBreeds[s][0].toUpperCase()}${e.subBreeds[s].slice(1)}</li>`);
            $(".subbreed-list").append(t) }
    $("#detailsModal").modal("show") }

function showDetails(e) { dogRepository.loadDetails(e).then(function() { return e }).then(function(e) { showModal(e) }) }
window.addEventListener("keydown", function(e) { "Escape" === e.key && $modalContainer.hasClass("is-visible") && $("#detailsModal").modal("hide") });
var dogListElement = $(".dog-list"),
    dogs = dogRepository.getAll();